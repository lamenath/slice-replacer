Hereâ€™s a complete `README.md` for your CLI utility:

---

# ğŸ§© Prismic Slice Componentizer CLI

A CLI tool to **componentize duplicated slices** across Prismic locales by replacing them with a reference to a centrally managed shared section â€” and optionally push updates using the [Prismic Migration API](https://prismic.io/docs/migration-api).

---

## ğŸš€ What It Does

* Replaces a specific slice (e.g. `homepage_boxes`) in all documents of a given language prefix (e.g. `en-*`) with a new `shared_section` slice.
* Reads documents via Prismicâ€™s public API.
* Saves updated documents to `./updated_documents/` folder.
* Optionally pushes updates via the Migration API with rate limiting (1.5s delay).
* Prints a link to the Migration Release in the Prismic UI.

---

## ğŸ›  Requirements

* Node.js 18+
* Public API access to your Prismic repository
* Migration API token (only for push step)

---

## ğŸ“¦ Installation

Clone or download this script and install dependencies:

```bash
npm install
```

> The script uses native `fetch`, so no additional HTTP libraries needed.

---

## ğŸ§ª Usage

```bash
node componentize-slices.js
```

You will be prompted step-by-step:

1. **Repository ID** (e.g. `ria-demo`)
2. **Base Document ID** (e.g. `en-us` homepage ID)
3. **Language Prefix** (e.g. `en`)
4. **Slice ID to Replace** (e.g. `homepage_boxes`)
5. **Shared Section Document ID** (central content to link to)
6. **Confirm replacement & file export**
7. **Optionally push to Prismic using the Migration API**

---

## ğŸ“ Output

* All updated documents are saved as `.json` files in `./updated_documents/`
* If pushed, each document is updated individually via the Migration API.

---

## ğŸ§· Notes

* Slice `id` is auto-generated by Prismic if omitted (which this tool now does).
* Documents are updated one-by-one with a 1.5 second delay to respect API rate limits.
* Final step provides a link to review your changes in the Prismic Migration Release UI.

---

## âœ… Example

```bash
Enter your Prismic repository ID: ria-demo
Enter the base document ID: aCMNnBAAACEAZ59a
Enter the language prefix: en
Enter the slice ID to replace: homepage_boxes
Enter the Shared Section document ID: aCMNvBAAAB8AZ5-T
Proceed with replacing slices and saving files? (yes/no): yes
Do you want to push these updates to the repository using the Migration API? (yes/no): yes
Enter your Migration API token: *****
âœ… Successfully updated document ...
ğŸ“ Review updated documents in the Migration Release: https://ria-demo.prismic.io/builder/migration
```

---

## ğŸ“„ License

MIT â€“ Â©2025

---

Let me know if you want a version with screenshots or example JSONs.
